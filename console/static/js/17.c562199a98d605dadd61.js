webpackJsonp([17],{"6e6D":function(e,t){},kF6C:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("woOf"),l=a.n(o),n=a("mvHQ"),s=a.n(n),r={data:function(){return{ok:!0,todo:"",list:[],editVisible:!1,page:{curPage:1,curPageSize:10,totalSize:1,result:[]},dialogTitle:"添加",searchForm:{authstatus:"",account:"13764906431",password:"a111111",phoneNo:"",IS_AUTH:"",ORG_NAME:""},dialogForm:{idcardzheng:"",idcardfan:"",handorface:"",ORG_NAME:"",switchState:"",advertisementId:"",ERROR_IMAGE_NO_ONE:"",ERROR_IMAGE_NO_TWO:"",ERROR_IMAGE_NO_THREEE:"",ENC_PHONE_NO:""},selectedRow:""}},computed:{disabled:function(){return"查看"===this.dialogTitle}},filters:{formatterIsauth:function(e){var t="";switch(e){case"01":t="已提交";break;case"00":t="已通过";break;case"02":t="未认证";break;default:t="未实名"}return t}},created:function(){var e=this;this.$nextTick(function(){e.initPageData()})},methods:{formatterIsAuth:function(e,t){return"1"===e.IS_AUTH?"已实名":"00"===e.AUDIT_STATUS?"审核通过":(e.AUDIT_STATUS,"未认证")},formatterRealNameType:function(e,t){return"1"===e.REAL_NAME_TYPE?"手持":"人脸"},formatterFreezeStatus:function(e,t){return"01"===e.FREEZE_STATUS?"正常":"02"===e.FREEZE_STATUS?"冻结":"03"===e.FREEZE_STATUS?"待解冻":"正常"},formatterBalance:function(e,t){return null!==e.BALANCE?e.BALANCE:"0"},doadd:function(e){console.log(e.keyCode),13==e.keyCode&&this.list.push({title:this.todo,checked:!1}),storage.set("list",this.list)},resetForm:function(){this.$refs.searchForm.resetFields()},search:function(){this.page.curPage=1,this.initPageData()},showDetail:function(e,t){var a=this;this.$http.post({url:"/wfbs-console/order/queryAgentOrder",data:{agentOrderId:e.agentOrderId}}).then(function(e){console.log(e),e.data.result.orderStatus>"1"&&e.data.result.payerCardNo||"1"===e.data.result.orderStatus?e.data.result.paymentType="线下对公支付":-1!==e.data.result.accountNum.indexOf("wx")?e.data.result.paymentType="微信支付":-1!==e.data.result.accountNum.indexOf("alipay")&&(e.data.result.paymentType="支付宝支付"),a.form=e.data.result}).catch(function(e){console.log(e)}),this.$http.post({url:"/wfbs-console/order/queryAgentOrderLogList",data:{agentOrderId:e.agentOrderId}}).then(function(e){console.log(e),a.orderLogList=e.data.result}).catch(function(e){console.log(e)}),this.form=JSON.parse(s()(e)),this.showReviseForm=!1,this.editVisible=!0},reanNameauth:function(e){this.showDetail(e)},passAuditstatus:function(e){var t=this;this.$confirm("确认通过?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});t.$http.post({url:"/shop/orgauth/",data:{agentorgid:e.ORG_ID,phone:e.USER_NAME}}).then(function(e){console.log(e),a.close(),e.data.message?(t.$message({type:"error",message:e.data.message}),t.initPageData()):t.$alert("操作成功","提示",{confirmButtonText:"确定",callback:function(e){t.initPageData()}})}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},passBuy:function(e){var t=this;this.$confirm("确认通过?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});t.$http.post({url:"/shop/orderbuy/",data:{agentorgid:e.ORG_ID,phone:e.USER_NAME}}).then(function(e){console.log(e.data),a.close(),e.data.message?(console.log(500),t.$message({type:"error",message:e.data.message}),t.initPageData()):(console.log(200),t.$alert("操作成功","提示",{confirmButtonText:"确定",callback:function(e){t.initPageData()}}))}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},showDialog:function(e){0===e?(this.dialogTitle="添加",this.editVisible=!0):(console.log("走查看type"),this.dialogTitle=1===e?"查看":"修改",console.log(this.selectedRow),""!==this.selectedRow?(this.dialogForm=l()({},this.selectedRow),this.editVisible=!0):(console.log("没有选择记录通道"),this.$alert("请选择一条记录","提示",{confirmButtonText:"确定"})))},initPageData:function(){var e=localStorage.getItem("token");console.log(555),console.log(e),this.$http.initPageData("/shop/Realnameauthdata/",this)},rowClick:function(e,t){this.selectedRow=e},rowDblclick:function(e,t){this.selectedRow=e,this.showAddDialog(1)},handleSizeChange:function(e){this.page.curPageSize=e,this.initPageData()},handleCurrentChange:function(e){this.page.curPage=e,this.initPageData()},closeDialog:function(){this.$refs.dialogForm.resetFields()},submitForm:function(e){var t=this,a=localStorage.getItem("token");console.log(6666),console.log(a),this.$refs[e].validate(function(e){if(!e)return!1;t.$http.post({url:"/shop/UpdateRealStatus/",data:t.dialogForm}).then(function(e){console.log(e),t.$message({type:"success",message:e.data.message}),t.editVisible=!1,t.initPageData()}).catch(function(e){console.log(e)})})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table"},[a("div",{staticClass:"my-content-wrap menu-wrap"},[a("div",{staticClass:"handle-box"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[a("el-form-item",{attrs:{label:"实名状态：",prop:"authstatus"}},[a("el-select",{attrs:{placeholder:"请选择实名状态"},model:{value:e.searchForm.authstatus,callback:function(t){e.$set(e.searchForm,"authstatus",t)},expression:"searchForm.authstatus"}},[a("el-option",{attrs:{label:"未实名",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"实名",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Q刷伙伴账号：",prop:"account"}},[a("el-input",{attrs:{placeholder:"请输入Q刷伙伴账号"},model:{value:e.searchForm.account,callback:function(t){e.$set(e.searchForm,"account",t)},expression:"searchForm.account"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Q刷伙伴密码：",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入Q刷伙伴密码"},model:{value:e.searchForm.password,callback:function(t){e.$set(e.searchForm,"password",t)},expression:"searchForm.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码：",prop:"phoneNo"}},[a("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.searchForm.phoneNo,callback:function(t){e.$set(e.searchForm,"phoneNo",t)},expression:"searchForm.phoneNo"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.search()}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(t){e.resetForm()}}},[e._v("清空")])],1)],1)],1),e._v(" "),a("div",{staticClass:"operate-box"},[a("el-button",{attrs:{type:"success",icon:"el-icon-search"},on:{click:function(t){e.showDialog(1)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-edit"},on:{click:function(t){e.showDialog(2)}}},[e._v("修改")])],1),e._v(" "),a("div",{staticClass:"my-content-box"},[a("baseTable",{attrs:{page:e.page,handleCurrentChange:e.handleCurrentChange,handleSizeChange:e.handleSizeChange},on:{"row-dblclick":e.rowDblclick,"row-click":e.rowClick}},[a("template",{slot:"content"},[a("el-table-column",{attrs:{prop:"CERTIFIC_SERIAL_NO",label:"认证流水号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"PHONE_NO",label:"手机号码",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ENC_PHONE_NO",label:"手机号码",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ORG_NAME",label:"机构名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"SHOP_NAME",label:"商户名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"SHOP_ID",label:"商户编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"AUTH_CARD_NO",label:"实名卡号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ID_NO",label:"身份证号码",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"REAL_NAME_TYPE",formatter:e.formatterRealNameType,label:"识别方式",align:"center",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"CREATE_TIME",label:"创建时间",align:"center",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"FREEZE_STATUS",formatter:e.formatterFreezeStatus,label:"冻结状态",align:"center"}})],1)],2)],1),e._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.dialogTitle,visible:e.editVisible,width:"50%"},on:{close:e.closeDialog,"update:visible":function(t){e.editVisible=t}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,inline:!0,disabled:e.disabled,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"消息内容：",prop:"PHONE_NO"}},[a("el-input",{model:{value:e.dialogForm.PHONE_NO,callback:function(t){e.$set(e.dialogForm,"PHONE_NO",t)},expression:"dialogForm.PHONE_NO"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证正面：",prop:"ERROR_IMAGE_NO_ONE"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.dialogForm.ERROR_IMAGE_NO_ONE,callback:function(t){e.$set(e.dialogForm,"ERROR_IMAGE_NO_ONE",t)},expression:"dialogForm.ERROR_IMAGE_NO_ONE"}},[a("el-option",{attrs:{label:"冻结",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"已认证",value:"0"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证反面：",prop:"ERROR_IMAGE_NO_TWO"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.dialogForm.ERROR_IMAGE_NO_TWO,callback:function(t){e.$set(e.dialogForm,"ERROR_IMAGE_NO_TWO",t)},expression:"dialogForm.ERROR_IMAGE_NO_TWO"}},[a("el-option",{attrs:{label:"冻结",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"已认证",value:"0"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手持或人脸：",prop:"ERROR_IMAGE_NO_THREEE"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.dialogForm.ERROR_IMAGE_NO_THREEE,callback:function(t){e.$set(e.dialogForm,"ERROR_IMAGE_NO_THREEE",t)},expression:"dialogForm.ERROR_IMAGE_NO_THREEE"}},[a("el-option",{attrs:{label:"冻结",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"已认证",value:"0"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("dialogForm")}}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var c=a("VU/8")(r,i,!1,function(e){a("6e6D")},"data-v-2c3027ba",null);t.default=c.exports}});