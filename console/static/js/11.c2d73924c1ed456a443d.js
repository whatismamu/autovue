webpackJsonp([11],{"+VkW":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("fZjL"),i=o.n(a),n={name:"testCode",data:function(){return{editVisible:!1,page:{curPage:1,curPageSize:10,totalSize:1,result:[]},searchForm:{orgid:"",dev_no:""},dialogForm:{image:"",adType:"",imagePath:"",imageLinkAddr:"",switchState:"",advertisementId:""}}},created:function(){var e=this;this.$nextTick(function(){e.initPageData()})},methods:{formatterStatus:function(e,t){return"1"===e.PREFERENTIA_MARK?"押金机具":"0"===e.PREFERENTIA_MARK?"无押金机具":"未知类型"},resetForm:function(){this.$refs.searchForm.resetFields()},search:function(){this.page.curPage=1,this.initPageData()},showDialog:function(e){var t=this;3===e?(console.log(e),console.log(this.searchForm),this.dialogTitle="调拨机具",this.$http.post({url:"/shop/Diao/",data:this.searchForm}).then(function(e){console.log(e),e.data.code?(console.log(222),t.$message({type:"error",message:e.data.message})):(console.log(111),t.$message({type:"success",message:e.data.message})),t.editVisible=!1}).catch(function(e){console.log(e)})):(this.dialogTitle=1===e?"查看":"修改",""!==this.selectedRow?(i()(this.dialogForm).map(function(e){return t.dialogForm[e]=t.selectedRow[e]}),this.editVisible=!0):this.$alert("请选择一条记录","提示",{confirmButtonText:"确定"}))},initPageData:function(){localStorage.getItem("token");this.$http.initPageData("/goods/Devnodata/",this)},handleSizeChange:function(e){this.page.curPageSize=e,this.initPageData()},handleCurrentChange:function(e){this.page.curPage=e,this.initPageData()},closeDialog:function(){this.$refs.dialogForm.resetFields()},changetype:function(e){var t=this;this.$confirm("确认通过?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var o=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});t.$http.post({url:"/goods/Changetype/",data:{DEV_NO:e.DEV_NO,PREFERENTIA_MARK:e.PREFERENTIA_MARK}}).then(function(e){console.log(e.data),o.close(),e.data.message?(console.log(500),t.$message({type:"error",message:e.data.message}),t.initPageData()):(console.log(200),t.$alert("操作成功","提示",{confirmButtonText:"确定",callback:function(e){t.initPageData()}}))}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},submitForm:function(e){var t=this,o=localStorage.getItem("token");console.log(6666),console.log(o),this.$refs[e].validate(function(e){if(!e)return!1;t.$http.post({url:"/shop/Diao/",data:t.dialogForm}).then(function(e){console.log(e),t.$message({type:"success",message:"操作成功!"}),t.editVisible=!1,t.initPageData()}).catch(function(e){console.log(e)})})}}},l={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"table"},[o("div",{staticClass:"my-content-wrap menu-wrap"},[o("div",{staticClass:"handle-box"},[o("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[o("el-form-item",{attrs:{label:"机构编号：",prop:"orgid"}},[o("el-input",{attrs:{placeholder:"请输机构编号"},model:{value:e.searchForm.orgid,callback:function(t){e.$set(e.searchForm,"orgid",t)},expression:"searchForm.orgid"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"机具号：",prop:"dev_no"}},[o("el-input",{attrs:{placeholder:"请输入机具号"},model:{value:e.searchForm.dev_no,callback:function(t){e.$set(e.searchForm,"dev_no",t)},expression:"searchForm.dev_no"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.search()}}},[e._v("查询")]),e._v(" "),o("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(t){e.resetForm()}}},[e._v("清空")])],1)],1)],1),e._v(" "),o("div",{staticClass:"operate-box"},[o("el-button",{attrs:{type:"success",icon:"el-icon-plus"},on:{click:function(t){e.showDialog(0)}}},[e._v("添加")]),e._v(" "),o("el-button",{attrs:{type:"success",icon:"el-icon-search"},on:{click:function(t){e.showDialog(1)}}},[e._v("查看")]),e._v(" "),o("el-button",{attrs:{type:"success",icon:"el-icon-edit"},on:{click:function(t){e.showDialog(2)}}},[e._v("修改")]),e._v(" "),o("el-button",{attrs:{type:"success",icon:"el-icon-refresh"},on:{click:function(t){e.showDialog(3)}}},[e._v("调拨机具")])],1),e._v(" "),o("div",{staticClass:"my-content-box"},[o("baseTable",{attrs:{page:e.page,handleCurrentChange:e.handleCurrentChange,handleSizeChange:e.handleSizeChange}},[o("template",{slot:"content"},[o("el-table-column",{attrs:{prop:"ORG_ID",label:"机构名",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{prop:"PREFERENTIA_MARK",formatter:e.formatterStatus,label:"机具类型",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{prop:"DEV_NO",label:"机身号",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{prop:"CREATE_TIME",label:"创建时间",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{fixed:"left",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.PREFERENTIA_MARK||"0"===t.row.PREFERENTIA_MARK?o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(o){e.changetype(t.row)}}},[e._v("\n                                更改类型\n                            ")]):e._e()]}}])})],1)],2)],1),e._v(" "),o("el-dialog",{attrs:{"close-on-click-modal":!1,title:"查看",visible:e.editVisible,width:"50%"},on:{close:e.closeDialog,"update:visible":function(t){e.editVisible=t}}},[o("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,inline:!0,"label-width":"120px"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"广告页状态：",prop:"switchState"}},[o("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.dialogForm.switchState,callback:function(t){e.$set(e.dialogForm,"switchState",t)},expression:"dialogForm.switchState"}},[o("el-option",{attrs:{label:"开启",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"关闭",value:"0"}})],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"图片地址：",prop:"imagePath"}},[o("el-input",{model:{value:e.dialogForm.imagePath,callback:function(t){e.$set(e.dialogForm,"imagePath",t)},expression:"dialogForm.imagePath"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"广告链接地址：",prop:"imageLinkAddr"}},[o("el-input",{model:{value:e.dialogForm.imageLinkAddr,callback:function(t){e.$set(e.dialogForm,"imageLinkAddr",t)},expression:"dialogForm.imageLinkAddr"}})],1)],1)],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("dialogForm")}}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var s=o("VU/8")(n,l,!1,function(e){o("KAut")},"data-v-297978c2",null);t.default=s.exports},Cdx3:function(e,t,o){var a=o("sB3e"),i=o("lktj");o("uqUo")("keys",function(){return function(e){return i(a(e))}})},KAut:function(e,t){},fZjL:function(e,t,o){e.exports={default:o("jFbC"),__esModule:!0}},jFbC:function(e,t,o){o("Cdx3"),e.exports=o("FeBl").Object.keys},uqUo:function(e,t,o){var a=o("kM2E"),i=o("FeBl"),n=o("S82l");e.exports=function(e,t){var o=(i.Object||{})[e]||Object[e],l={};l[e]=t(o),a(a.S+a.F*n(function(){o(1)}),"Object",l)}}});