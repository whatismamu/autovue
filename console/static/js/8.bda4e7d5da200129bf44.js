webpackJsonp([8],{Cdx3:function(t,e,a){var o=a("sB3e"),n=a("lktj");a("uqUo")("keys",function(){return function(t){return n(o(t))}})},JzNT:function(t,e){},T7MN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("fZjL"),n=a.n(o),l={name:"testCode",data:function(){return{ok:!0,todo:"",list:[],editVisible:!1,page:{curPage:1,curPageSize:10,totalSize:1,result:[]},searchForm:{authstatus:"",account:"13764906431",password:"a111111",phoneNo:"",IS_AUTH:""},dialogForm:{image:"",adType:"",imagePath:"",imageLinkAddr:"",switchState:"",advertisementId:""}}},filters:{formatterIsauth:function(t){var e="";switch(t){case"01":e="已提交";break;case"00":e="已通过";break;case"02":e="未认证";break;default:e="未实名"}return e}},created:function(){var t=this;this.$nextTick(function(){t.initPageData()})},methods:{formatterIsAuth:function(t,e){return"1"===t.IS_AUTH?"已实名":"00"===t.AUDIT_STATUS?"审核通过":(t.AUDIT_STATUS,"未认证")},formatterENC_CER_NO:function(t,e){return"数据错误"===t.ENC_CER_NO&&"1"!==t.IS_AUTH?"未实名":"1"===t.IS_AUTH?t.ENC_CER_NO:"数据错误"},formatterUserType:function(t,e){return"01"===t.USER_TYPE?"销售代表":"服务商"},formatterAuditStatus:function(t,e){return"01"===t.AUDIT_STATUS?"已提交":"00"===t.AUDIT_STATUS?"审核通过":(t.AUDIT_STATUS,"未认证")},formatterBalance:function(t,e){return null!==t.BALANCE?t.BALANCE:"0"},doadd:function(t){console.log(t.keyCode),13==t.keyCode&&this.list.push({title:this.todo,checked:!1}),storage.set("list",this.list)},resetForm:function(){this.$refs.searchForm.resetFields()},search:function(){this.page.curPage=1,this.initPageData()},createqAccount:function(t){this.showDetail(t)},passAuditstatus:function(t){var e=this;this.$confirm("确认通过?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=e.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});e.$http.post({url:"/shop/orgauth/",data:{agentorgid:t.ORG_ID,phone:t.USER_NAME}}).then(function(t){console.log(t),a.close(),t.data.message?(e.$message({type:"error",message:t.data.message}),e.initPageData()):e.$alert("操作成功","提示",{confirmButtonText:"确定",callback:function(t){e.initPageData()}})}).catch(function(t){console.log(t)})}).catch(function(){e.$message({type:"info",message:"已取消操作"})})},passBuy:function(t){var e=this;this.$confirm("确认通过?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=e.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});e.$http.post({url:"/shop/orderbuy/",data:{agentorgid:t.ORG_ID,phone:t.USER_NAME}}).then(function(t){console.log(t.data),a.close(),t.data.message?(console.log(500),e.$message({type:"error",message:t.data.message}),e.initPageData()):(console.log(200),e.$alert("操作成功","提示",{confirmButtonText:"确定",callback:function(t){e.initPageData()}}))}).catch(function(t){console.log(t)})}).catch(function(){e.$message({type:"info",message:"已取消操作"})})},showDialog:function(t){var e=this;0===t?(console.log(t),console.log(this.searchForm),this.dialogTitle="创建Q刷账号",this.$http.post({url:"/shop/createqaccount/",data:this.searchForm}).then(function(t){console.log(t),e.$message({type:"success",message:t.data.message}),e.editVisible=!1,e.initPageData()}).catch(function(t){console.log(t)})):(this.dialogTitle=1===t?"查看":"修改",""!==this.selectedRow?(n()(this.dialogForm).map(function(t){return e.dialogForm[t]=e.selectedRow[t]}),this.editVisible=!0):this.$alert("请选择一条记录","提示",{confirmButtonText:"确定"}))},initPageData:function(){var t=localStorage.getItem("token");console.log(66666),console.log(t),this.$http.initPageData("/shop/orgdata/",this)},handleSizeChange:function(t){this.page.curPageSize=t,this.initPageData()},handleCurrentChange:function(t){this.page.curPage=t,this.initPageData()},closeDialog:function(){this.$refs.dialogForm.resetFields()},submitForm:function(t){var e=this,a=localStorage.getItem("token");console.log(6666),console.log(a),this.$refs[t].validate(function(t){if(!t)return!1;e.$http.post({url:"/goods/snippetssss",data:e.dialogForm}).then(function(t){console.log(t),e.$message({type:"success",message:"操作成功!"}),e.editVisible=!1,e.initPageData()}).catch(function(t){console.log(t)})})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"my-content-wrap menu-wrap"},[a("div",{staticClass:"handle-box"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.searchForm}},[a("el-form-item",{attrs:{label:"实名状态：",prop:"authstatus"}},[a("el-select",{attrs:{placeholder:"请选择实名状态"},model:{value:t.searchForm.authstatus,callback:function(e){t.$set(t.searchForm,"authstatus",e)},expression:"searchForm.authstatus"}},[a("el-option",{attrs:{label:"未实名",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"实名",value:"1"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Q刷伙伴账号：",prop:"account"}},[a("el-input",{attrs:{placeholder:"请输入Q刷伙伴账号"},model:{value:t.searchForm.account,callback:function(e){t.$set(t.searchForm,"account",e)},expression:"searchForm.account"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Q刷伙伴密码：",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入Q刷伙伴密码"},model:{value:t.searchForm.password,callback:function(e){t.$set(t.searchForm,"password",e)},expression:"searchForm.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号码：",prop:"phoneNo"}},[a("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:t.searchForm.phoneNo,callback:function(e){t.$set(t.searchForm,"phoneNo",e)},expression:"searchForm.phoneNo"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.search()}}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){t.resetForm()}}},[t._v("清空")])],1)],1)],1),t._v(" "),a("div",{staticClass:"operate-box"},[a("el-button",{attrs:{type:"success",icon:"el-icon-plus"},on:{click:function(e){t.showDialog(0)}}},[t._v("生成Q刷账号")]),t._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-search"},on:{click:function(e){t.showDialog(1)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-edit"},on:{click:function(e){t.showDialog(2)}}},[t._v("修改")])],1),t._v(" "),a("div",{staticClass:"my-content-box"},[a("baseTable",{attrs:{page:t.page,handleCurrentChange:t.handleCurrentChange,handleSizeChange:t.handleSizeChange}},[a("template",{slot:"content"},[a("el-table-column",{attrs:{prop:"ORG_ID",label:"机构编号",align:"center",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"AGENT_REGISTER_USER_ID",label:"伙伴注册id",align:"center",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"USER_EMAIL",label:"邮箱地址",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ORG_NAME",label:"机构名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"BALANCE",formatter:t.formatterBalance,label:"账户余额",align:"center",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"USER_NAME",label:"手机号码",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"USER_REAL_NAME",label:"用户姓名",align:"center",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"USER_TYPE",formatter:t.formatterUserType,label:"用户类型",align:"center",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"CER_NO",label:"加密身份证号码",align:"center",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ENC_CER_NO",formatter:t.formatterENC_CER_NO,label:"身份证号码",align:"center",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"RECOMMENDATION_CODE",label:"推荐码",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ORG_PARENT_ID",label:"上级机构",align:"center",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"CREATE_TIME",label:"创建时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"IS_AUTH",formatter:t.formatterIsAuth,label:"实名状态",align:"center",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"AUDIT_STATUS",formatter:t.formatterAuditStatus,label:"服务商认证状态",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"left",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"===e.row.IS_AUTH||"0"===e.row.IS_AUTH?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.passBuy(e.row)}}},[t._v("\n                                商城购买\n                            ")]):t._e(),t._v(" "),"02"===e.row.AUDIT_STATUS||null==e.row.AUDIT_STATUS&&"1"===e.row.IS_AUTH?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.passAuditstatus(e.row)}}},[t._v("\n                                服务商认证\n                            ")]):a("el-button",{attrs:{type:"text",size:"mini"}},[t._v("\n                                "+t._s(t._f("formatterIsauth")(e.row.AUDIT_STATUS))+"\n                            ")])]}}])})],1)],2)],1),t._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"查看",visible:t.editVisible,width:"50%"},on:{close:t.closeDialog,"update:visible":function(e){t.editVisible=e}}},[a("el-form",{ref:"dialogForm",attrs:{model:t.dialogForm,inline:!0,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"广告页状态：",prop:"switchState"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:t.dialogForm.switchState,callback:function(e){t.$set(t.dialogForm,"switchState",e)},expression:"dialogForm.switchState"}},[a("el-option",{attrs:{label:"开启",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"关闭",value:"0"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"图片地址：",prop:"imagePath"}},[a("el-input",{model:{value:t.dialogForm.imagePath,callback:function(e){t.$set(t.dialogForm,"imagePath",e)},expression:"dialogForm.imagePath"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"广告链接地址：",prop:"imageLinkAddr"}},[a("el-input",{model:{value:t.dialogForm.imageLinkAddr,callback:function(e){t.$set(t.dialogForm,"imageLinkAddr",e)},expression:"dialogForm.imageLinkAddr"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("dialogForm")}}},[t._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var r=a("VU/8")(l,i,!1,function(t){a("JzNT")},"data-v-7248db0e",null);e.default=r.exports},fZjL:function(t,e,a){t.exports={default:a("jFbC"),__esModule:!0}},jFbC:function(t,e,a){a("Cdx3"),t.exports=a("FeBl").Object.keys},uqUo:function(t,e,a){var o=a("kM2E"),n=a("FeBl"),l=a("S82l");t.exports=function(t,e){var a=(n.Object||{})[t]||Object[t],i={};i[t]=e(a),o(o.S+o.F*l(function(){a(1)}),"Object",i)}}});